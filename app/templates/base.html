{% extends "bootstrap/base.html" %}

{% block title %}Flasky{% endblock %}

{% block head %}
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="shortcut icon" href="{{ url_for('static', filename = 'img/favicons/favicon.ico') }}" type="image/x-icon">
<link rel="icon" href="{{ url_for('static', filename = 'img/favicons/favicon.ico') }}"type="image/x-icon">
<link href="{{ url_for('static', filename='anita/css/select2.min.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='inspinia/css/bootstrap.min.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='inspinia/font-awesome/css/font-awesome.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='inspinia/css/plugins/iCheck/custom.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='inspinia/css/animate.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='inspinia/css/style.css') }}" rel="stylesheet">
<link rel="stylesheet" href="//cdn.jsdelivr.net/jquery.metismenu/2.5.0/metisMenu.min.css">
<link href="{{ url_for('static', filename='inspinia/css/plugins/sweetalert/sweetalert.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='anita/css/switchery.min.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='inspinia/css/plugins/ladda/ladda-themeless.min.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='inspinia/css/plugins/jQueryUI/jquery-ui.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='anita/css/jquery.jqplot.min.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='anita/css/magicbox.css') }}" rel="stylesheet">


<style>    
    button, .select2-container{
        margin: 7px 2px;
    }
    input, .switchery{
        margin: 7px 2px;
    }
    /* the modal should be in the same z-index not overlay each other*/
    /*.modal{z-index: 1060 !important;}*/
    /* the modal content should not overflow if you resize it */
    .modal-content.ui-resizable {
        overflow-y: scroll;
        overflow-x: hidden;
    }
       /* ul{
          list-style: none;
        }

        li{
          display: inline;
      }*/
  </style>
  {% endblock %}

  {% block navbar %}
<div id="wrapper">
<nav class="navbar navbar-inverse navbar-static-side" role="navigation">
    <div class="sidebar-collapse">
        <ul class="nav metismenu" id="side-menu">
            <li class="nav-header">
                <div class="dropdown profile-element"> <span>
                            <img alt="image" class="img-circle" src="static/anita/img/payload.jpg" />
                             </span>
                            <span class="clear"> <span class="block m-t-xs"> <strong class="font-bold">ANITA IV</strong>
                </div>
                <div class="logo-element">
                    ANITA IV
                </div>
            </li>
            <li><a id='navbar_aview' href="{{ url_for('main.index') }}"> <i class="fa fa-th-large"></i>  <span class="nav-label">Anita Viewer</span></a></li>
            <li><a id='navbar_hk' href="{{ url_for('main.hk') }}"><i class="fa fa-th-list"></i>  <span class="nav-label">HK Viewer</span></a></li>
            <li><a id='navbar_trig' href="{{ url_for('main.trigmon') }}"><i class="fa fa-bolt"></i>  <span class="nav-label">Trigger Monitor</span></a></li>
            <li><a id='navbar_slow' href="{{ url_for('main.slowmo') }}"><i class="fa fa-ambulance"></i>  <span class="nav-label">Slow Monitor</span></a></li>
            <li><a id='navbar_contact'href="{{ url_for('main.contactus') }}"><i class="fa fa-question"></i>  <span class="nav-label">Contact Us</span></a></li>
        </ul>

    </div>
</nav>
<div id="page-wrapper" class="gray-bg">
<div class="row border-bottom">
    <nav class="navbar navbar-static-top" role="navigation" style="margin-bottom: 0">
        <div class="navbar-header">
            <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a>
             <select id="ip" class='chosen-select' style="width:150px" data-placeholder="Choose an IP..">
                {% set new_one = 1 %}
                {% for ip in ip_list %}
                    {% if ip|string() == ip_selected|string() %}
                    <option selected>{{ip}}</option>
                    {% set new_one = 0 %}
                    {% else %}
                    <option>{{ip}}</option>
                    {% endif %}
                {% endfor %}
                {% if new_one == 1 %}
                <option selected>{{ip_selected}}</option>
                {% endif %}
            </select>
            <select id="db" class='chosen-select' style="width:150px" data-placeholder="Choose a DB..">
                {% set new_one = 1 %}
                {% for db in db_list %}
                    {% if db|string() ==db_selected|string() %}
                    <option selected>{{db}}</option>
                    {% set new_one = 0 %}
                    {% else %}
                    <option>{{db}}</option>
                    {% endif %}
                {% endfor %}
                {% if new_one == 1 %}
                <option selected>{{db_selected}}</option>
                {% endif %}
            </select>
            <button type="button" id="connect" class="ladda-button btn btn-primary connect"  data-style="zoom-in">Connect</button>
            <button type="button" id="gse_monitor" class="btn btn-primary">GSE Monitor</button>
            
            <ul class="nav navbar-top-links navbar-right">
                <li><button type="button" id='next' class="btn btn-primary">Next</button> </li>
                <li><button type="button" id='prev' class="btn btn-primary">Prev</button> </li>
                <li><button type="button" id='first' class="btn btn-primary">First</button> </li>
                <li><button type="button" id='last' class="btn btn-primary">Last</button> </li>
                <li> Auto </li>
                <li><input id='auto_checkbox' type="checkbox" class="js-switch" /></li>
                <li> Sync </li>
                <li> <input id='sync_checkbox' type="checkbox" class="js-switch" /> </li>
            </ul>
        </div>
       
        <div class="input-group">
          <input type="text" class="form-control" placeholder="time or nbuf">
          <span class="input-group-btn">
            <button class="btn btn-primary" id = 'goto' type="button">Go!</button>
          </span>
        </div>
        <!-- <div>
            <ul class="nav navbar-top-links">             
                <li class="col-lg-1 col-md-1 col-sm-1"> auto <input id='auto_checkbox' type="checkbox" class="js-switch" />  </li>
                <li class="col-lg-1 col-md-1 col-sm-1"> sync <input id='sync_checkbox' type="checkbox" class="js-switch" />  </li>
            </ul>
        </div> -->
        <!-- <ul class="nav navbar-top-links navbar-right">
            <li> Auto   </li>
            <li><input id='auto_checkbox' type="checkbox" class="js-switch" /></li>
            <li> Sync </li>
            <li> <input id='sync_checkbox' type="checkbox" class="js-switch" />  </li>
        </ul> -->
    </nav>
</div>


<!-- 
  <div class="navbar navbar-inverse " role="navigation">
    <div class="container-fluid">
        <a class="navbar-brand">ANITA IV</a>
        <ul class="nav navbar-nav navbar-inverse">
            <li><a id='navbar_aview' href="{{ url_for('main.index') }}">Anita Viewer</a></li>
            <li><a id='navbar_hk' href="{{ url_for('main.hk') }}">HK Viewer</a></li>
            <li><a id='navbar_trig' href="{{ url_for('main.trigmon') }}">Trigger Monitor</a></li>
            <li><a id='navbar_slow' href="{{ url_for('main.slowmo') }}">Slow Monitor</a></li>
            <li><a id='navbar_contact'href="{{ url_for('main.contactus') }}">Contact Us</a></li>
        </ul>
            <ul class="nav navbar-nav">
             
                <li>
                    <select id="ip" class='chosen-select' style="width:150px" data-placeholder="Choose an IP..">
                        {% set new_one = 1 %}
                        {% for ip in ip_list %}
                            {% if ip|string() == ip_selected|string() %}
                            <option selected>{{ip}}</option>
                            {% set new_one = 0 %}
                            {% else %}
                            <option>{{ip}}</option>
                            {% endif %}
                        {% endfor %}
                        {% if new_one == 1 %}
                        <option selected>{{ip_selected}}</option>
                        {% endif %}
                    </select>
                </li>
                <li>
                    <select id="db" class='chosen-select' style="width:150px" data-placeholder="Choose a DB..">
                        {% set new_one = 1 %}
                        {% for db in db_list %}
                            {% if db|string() ==db_selected|string() %}
                            <option selected>{{db}}</option>
                            {% set new_one = 0 %}
                            {% else %}
                            <option>{{db}}</option>
                            {% endif %}
                        {% endfor %}
                        {% if new_one == 1 %}
                        <option selected>{{db_selected}}</option>
                        {% endif %}
                    </select>
                </li>
                <li>
                 <button type="button" id="connect" class="ladda-button btn btn-primary connect"  data-style="zoom-in">Connect</button>
             </li>
             <button type="button" id="gse_monitor" class="btn btn-primary">GSE Monitor</button>
             <ul class="nav navbar-nav pull-right">

                <li><button type="button" id='goto' class="btn btn-primary">GoTo</button> </li>
                <li class="col-lg-4 col-md-4 col-sm-10">
                    <input type="text" placeholder="evnum or time" id="keywords" class="form-control" value="{{keywords}}">
                </li>
                <li><button type="button" id='next' class="btn btn-primary">Next</button> </li>
                <li><button type="button" id='prev' class="btn btn-primary">Prev</button> </li>
                <li><button type="button" id='first' class="btn btn-primary">First</button> </li>
                <li><button type="button" id='last' class="btn btn-primary">Last</button> </li>
                <li class="col-lg-1 col-md-1 col-sm-1"> auto <input id='auto_checkbox' type="checkbox" class="js-switch" />  </li>
                <li class="col-lg-1 col-md-1 col-sm-1"> sync <input id='sync_checkbox' type="checkbox" class="js-switch" />  </li>
            </ul>
        </div>
    </div> -->
    {% endblock %}

    {% block content %}
    <div>
        {% for message in get_flashed_messages() %}
        <div class="alert alert-warning">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            {{ message }}
        </div>
        {% endfor %}
        <div class="wrapper wrapper-content animated fadeInRight">

        {% block page_content %}{% endblock %}
        </div>
    </div>
    {% endblock %}

    {% block scripts %}
    <script src="{{ url_for('static', filename='inspinia/js/jquery-2.1.1.js') }}"></script>
    <script src="{{ url_for('static', filename='anita/js/select2.full.min.js') }}"></script>

    <script src="{{ url_for('static', filename='inspinia/js/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static', filename='inspinia/js/plugins/slimscroll/jquery.slimscroll.min.js') }}"></script>
    
    <script src="{{ url_for('static', filename='inspinia/js/inspinia.js') }}"></script>
    <script src="{{ url_for('static', filename='inspinia/js/plugins/jquery-ui/jquery-ui.min.js') }}"></script>
    <script src="{{ url_for('static', filename='inspinia/js/plugins/pace/pace.min.js') }}"></script>
    <script src="//cdn.jsdelivr.net/jquery.metismenu/2.5.0/metisMenu.min.js"></script>
    <script src="{{ url_for('static', filename='inspinia/js/plugins/iCheck/icheck.min.js') }}"></script>
    <script src="{{ url_for('static', filename='inspinia/js/plugins/sweetalert/sweetalert.min.js') }}"></script>
    <script src="{{ url_for('static', filename='anita/js/switchery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='inspinia/js/plugins/ladda/spin.min.js') }}"></script>
    <script src="{{ url_for('static', filename='inspinia/js/plugins/ladda/ladda.min.js') }}"></script>
    <script src="{{ url_for('static', filename='inspinia/js/plugins/ladda/ladda.jquery.min.js') }}"></script>

    <script src="{{ url_for('static', filename='anita/js/jqplot/jquery.jqplot.min.js') }}"></script>
    <script src="{{ url_for('static', filename='anita/js/jqplot/plugins/jqplot.canvasTextRenderer.min.js') }}"></script>
    <script src="{{ url_for('static', filename='anita/js/jqplot/plugins/jqplot.canvasAxisTickRenderer.min.js') }}"></script>
    <script src="{{ url_for('static', filename='anita/js/jqplot/plugins/jqplot.dateAxisRenderer.min.js') }}"></script>
    <script src="{{ url_for('static', filename='anita/js/jqplot/plugins/jqplot.cursor.min.js') }}"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
    <script src="{{ url_for('static', filename='anita/js/magicbox.js') }}"></script>
    <script>
        var ip;
        var db;
        var ip_db;
        // On changing the ip in the <select>, we want
        $('.chosen-select').change(function() {
            ip=$('#ip option:selected').text();
            db=$('#db option:selected').text();
            $.getJSON(/set_cookie/+ ip + '/' + db, function(data) {
                ;
            });
            ip = ip.replace(/\./gi, '_');
            ip_db= "query_"+ ip + "_" + db;
        });
        $(document).ready(function () {
            $('.chosen-select').select2({tags: true});
            $('.chosen-select').trigger('change');
        });
        $('#gse_monitor').click( function(){
            window.open('http://' + ip + '/anita', '_blank');
         });
 </script>
 {% endblock %}
